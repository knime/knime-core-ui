{
  "result": {
    "name": "Bar Chart Dialog",
    "data": {
      "view": {
        "title": "Bar Chart",
        "direction": "VERTICAL",
        "chartType": "GROUPED",
        "showLegend": true,
        "showValues": false,
        "allowImageDownload": true,
        "showTooltip": true,
        "publishSelection": true,
        "subscribeToSelection": true,
        "enableAnimation": true
      },
      "model": {
        "generateImage": false,
        "width": 800,
        "height": 600,
        "categoryColumn": {
          "selected": "Cluster Membership"
        },
        "aggregationMethod": "NONE",
        "frequencyColumns": {
          "mode": "MANUAL",
          "patternFilter": {
            "pattern": "",
            "isCaseSensitive": false,
            "isInverted": false
          },
          "manualFilter": {
            "manuallySelected": [
              "Universe_0_0",
              "Universe_0_1",
              "Universe_1_0",
              "Universe_1_1"
            ],
            "manuallyDeselected": [],
            "includeUnknownColumns": false
          },
          "typeFilter": {
            "selectedTypes": [],
            "typeDisplays": []
          }
        }
      }
    },
    "schema": {
      "type": "object",
      "properties": {
        "view": {
          "type": "object",
          "properties": {
            "allowImageDownload": {
              "type": "boolean",
              "title": "Enable image download",
              "description": "When checked, an image of the chart can be downloaded by clicking the image download button in the view.",
              "default": true
            },
            "categoryAxisLabel": {
              "type": "string",
              "title": "Category axis label",
              "description": "The label used for the category axis. If left blank, no label will be shown."
            },
            "chartType": {
              "oneOf": [
                {
                  "const": "GROUPED",
                  "title": "Grouped"
                },
                {
                  "const": "STACKED",
                  "title": "Stacked"
                }
              ],
              "title": "Arrange bars",
              "description": "When “Stacked” is selected, the bars of the same category are stacked on top of each other. ",
              "default": "GROUPED"
            },
            "direction": {
              "oneOf": [
                {
                  "const": "VERTICAL",
                  "title": "Vertical"
                },
                {
                  "const": "HORIZONTAL",
                  "title": "Horizontal"
                }
              ],
              "title": "Orientation",
              "description": "When “Horizontal” is selected, the bar chart is plotted horizontally. By default bar chart is plotted with vertical bars.",
              "default": "VERTICAL"
            },
            "enableAnimation": {
              "type": "boolean",
              "title": "Enable animation",
              "description": "When checked, the animation of the graph is active.",
              "default": true
            },
            "frequencyAxisLabel": {
              "type": "string",
              "title": "Frequency axis label",
              "description": "The label used for the frequency axis. If left blank, no label will be shown."
            },
            "publishSelection": {
              "type": "boolean",
              "title": "Publish selection",
              "description": "When checked, the view notifies other interactive views when the user changes the selection in the current view.",
              "default": true
            },
            "showLegend": {
              "type": "boolean",
              "title": "Display legend",
              "description": "When checked, the chart’s legend is displayed.",
              "default": true
            },
            "showTooltip": {
              "type": "boolean",
              "title": "Show tooltip",
              "description": "When checked, hovering over a bar will show information about the data.",
              "default": true
            },
            "showValues": {
              "type": "boolean",
              "title": "Show bar values",
              "description": "When checked, the values will be shown on top of each bar.",
              "default": false
            },
            "subscribeToSelection": {
              "type": "boolean",
              "title": "Subscribe to selection",
              "description": "When checked, the view reacts on notifications from other interactive views that the selection has been changed.",
              "default": true
            },
            "title": {
              "type": "string",
              "title": "Title",
              "description": "The title of the graph shown above the generated image. If left blank, no title will be shown.",
              "default": "Bar Chart"
            },
            "axisExtentMethod": {
              "oneOf": [
                {
                  "const": "AUTO",
                  "title": "Automatic"
                },
                {
                  "const": "COLUMN_DOMAIN",
                  "title": "Domain bounds"
                },
                {
                  "const": "MANUAL",
                  "title": "Manual"
                }
              ],
              "title": "Frequency axis limits",
              "description": "Choose if the axis extents should be calculated by the charting framework, taken from the domain extents or set manually. You might need to use a Domain Calculator or Edit Numeric domain node before this node.",
              "default": "AUTO"
            },
            "frequencyAxisManualMin": {
              "type": "number",
              "title": "Frequency min",
              "default": 0,
              "description": "Numerical value that sets the frequency axis minimum."
            },
            "frequencyAxisManualMax": {
              "type": "number",
              "title": "Frequency max",
              "default": 0,
              "description": "Numerical value that sets the frequency axis maximum."
            }
          }
        },
        "model": {
          "type": "object",
          "properties": {
            "aggregationMethod": {
              "oneOf": [
                {
                  "const": "NONE",
                  "title": "None"
                },
                {
                  "const": "COUNT",
                  "title": "Occurrence count"
                },
                {
                  "const": "SUM",
                  "title": "Sum"
                },
                {
                  "const": "AVG",
                  "title": "Average"
                }
              ],
              "title": "Aggregation",
              "description": "Select the aggregation method used on the selected frequency columns. In case of “None” every row of the table is treated as a separate category. Note that in this case duplicate categories can exist. In case of “Occurrence Count” the occurrence of the number of rows that share a given category is determined.",
              "default": "NONE",
              "configKeys": ["aggregationMethod"]
            },
            "categoryColumn": {
              "type": "object",
              "properties": {
                "selected": {}
              },
              "title": "Category dimension",
              "description": "Select the column that contains the category values. Note: Missing values are treated as separate category.",
              "default": {
                "m_selected": "Cluster Membership"
              },
              "configKeys": ["categoryColumn"]
            },
            "frequencyColumns": {
              "type": "object",
              "properties": {
                "manualFilter": {
                  "type": "object",
                  "properties": {
                    "includeUnknownColumns": {
                      "type": "boolean",
                      "default": false
                    },
                    "manuallyDeselected": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "manuallySelected": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  },
                  "default": {
                    "m_manuallySelected": [],
                    "m_manuallyDeselected": [],
                    "m_includeUnknownColumns": false
                  }
                },
                "mode": {
                  "oneOf": [
                    {
                      "const": "MANUAL",
                      "title": "Manual"
                    },
                    {
                      "const": "REGEX",
                      "title": "Regex"
                    },
                    {
                      "const": "WILDCARD",
                      "title": "Wildcard"
                    },
                    {
                      "const": "TYPE",
                      "title": "Type"
                    }
                  ],
                  "default": "MANUAL"
                },
                "patternFilter": {
                  "type": "object",
                  "properties": {
                    "isCaseSensitive": {
                      "type": "boolean",
                      "default": false
                    },
                    "isInverted": {
                      "type": "boolean",
                      "default": false
                    },
                    "pattern": {
                      "type": "string",
                      "default": ""
                    }
                  },
                  "default": {
                    "m_pattern": "",
                    "m_isCaseSensitive": false,
                    "m_isInverted": false
                  }
                },
                "selected": {
                  "configKeys": ["selected_Internals"]
                },
                "typeFilter": {
                  "type": "object",
                  "properties": {
                    "selectedTypes": {
                      "default": [],
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "typeDisplays": {
                      "default": [],
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "text": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  },
                  "default": {
                    "m_selectedTypes": [],
                    "m_typeDisplays": []
                  }
                }
              },
              "title": "Frequency dimensions",
              "description": "Select the columns with frequencies for which you wish to plot bars. Note: Missing values in the frequency column will be ignored with a corresponding warning message. If, after aggregation, some bars or entire categories contain only missing values, they will be excluded from the view and a warning message will be raised.",
              "default": {
                "m_selected": null,
                "m_mode": "MANUAL",
                "m_patternFilter": {
                  "m_pattern": "",
                  "m_isCaseSensitive": false,
                  "m_isInverted": false
                },
                "m_manualFilter": {
                  "m_manuallySelected": [
                    "Universe_0_0",
                    "Universe_0_1",
                    "Universe_1_0",
                    "Universe_1_1"
                  ],
                  "m_manuallyDeselected": [],
                  "m_includeUnknownColumns": false
                },
                "m_typeFilter": {
                  "m_selectedTypes": [],
                  "m_typeDisplays": []
                }
              },
              "configKeys": ["frequencyColumns"]
            },
            "generateImage": {
              "type": "boolean",
              "title": "Generate image",
              "description": "If checked, adds an image output port and, upon execution, generates a PNG image which is made available via this port.",
              "default": false,
              "configKeys": ["generateImage"]
            },
            "height": {
              "type": "integer",
              "format": "int32",
              "title": "Height",
              "description": "The height of the generated image (in pixels).",
              "default": 600,
              "minimum": 1,
              "configKeys": ["height"]
            },
            "width": {
              "type": "integer",
              "format": "int32",
              "title": "Width",
              "description": "The width of the generated image (in pixels).",
              "default": 800,
              "minimum": 1,
              "configKeys": ["width"]
            }
          }
        }
      },
      "flowVariablesMap": {},
      "hasNodeView": true,
      "showAdvancedSettings": false
    },
    "ui_schema": {
      "elements": [
        {
          "type": "Section",
          "label": "Data",
          "elements": [
            {
              "type": "Control",
              "scope": "#/properties/model/properties/categoryColumn",
              "options": {
                "showRowKeys": false,
                "showNoneColumn": false,
                "format": "columnSelection",
                "possibleValues": [
                  {
                    "id": "Cluster Membership",
                    "text": "Cluster Membership"
                  }
                ]
              }
            },
            {
              "type": "Control",
              "scope": "#/properties/model/properties/aggregationMethod",
              "options": {
                "format": "radio",
                "radioLayout": "horizontal"
              }
            },
            {
              "type": "Control",
              "scope": "#/properties/model/properties/frequencyColumns",
              "options": {
                "format": "columnFilter",
                "possibleValues": [
                  {
                    "id": "Universe_0_0",
                    "text": "Universe_0_0",
                    "type": {
                      "id": "org.knime.core.data.DoubleValue",
                      "text": "Number (double)"
                    }
                  },
                  {
                    "id": "Universe_0_1",
                    "text": "Universe_0_1",
                    "type": {
                      "id": "org.knime.core.data.DoubleValue",
                      "text": "Number (double)"
                    }
                  },
                  {
                    "id": "Universe_1_0",
                    "text": "Universe_1_0",
                    "type": {
                      "id": "org.knime.core.data.DoubleValue",
                      "text": "Number (double)"
                    }
                  },
                  {
                    "id": "Universe_1_1",
                    "text": "Universe_1_1",
                    "type": {
                      "id": "org.knime.core.data.DoubleValue",
                      "text": "Number (double)"
                    }
                  }
                ]
              },
              "rule": {
                "effect": "DISABLE",
                "condition": {
                  "scope": "#/properties/model/properties/aggregationMethod",
                  "schema": {
                    "oneOf": [
                      {
                        "const": "COUNT"
                      }
                    ]
                  }
                }
              }
            }
          ]
        },
        {
          "type": "Section",
          "label": "Plot",
          "elements": [
            {
              "type": "Control",
              "scope": "#/properties/view/properties/title"
            },
            {
              "type": "Control",
              "scope": "#/properties/view/properties/axisExtentMethod",
              "options": {
                "format": "radio",
                "radioLayout": "horizontal"
              }
            },
            {
              "type": "HorizontalLayout",
              "elements": [
                {
                  "type": "Control",
                  "scope": "#/properties/view/properties/frequencyAxisManualMin"
                },
                {
                  "type": "Control",
                  "scope": "#/properties/view/properties/frequencyAxisManualMax"
                }
              ],
              "rule": {
                "effect": "SHOW",
                "condition": {
                  "scope": "#/properties/view/properties/axisExtentMethod",
                  "schema": {
                    "const": "MANUAL"
                  }
                }
              }
            },
            {
              "type": "Control",
              "scope": "#/properties/view/properties/categoryAxisLabel"
            },
            {
              "type": "Control",
              "scope": "#/properties/view/properties/frequencyAxisLabel"
            },
            {
              "type": "Control",
              "scope": "#/properties/view/properties/direction",
              "options": {
                "format": "radio",
                "radioLayout": "horizontal"
              }
            },
            {
              "type": "Control",
              "scope": "#/properties/view/properties/chartType",
              "options": {
                "format": "radio",
                "radioLayout": "horizontal"
              }
            },
            {
              "type": "Control",
              "scope": "#/properties/view/properties/showLegend",
              "options": {
                "format": "checkbox"
              }
            },
            {
              "type": "Control",
              "scope": "#/properties/view/properties/showValues",
              "options": {
                "format": "checkbox"
              }
            }
          ]
        },
        {
          "type": "Section",
          "label": "Interactivity",
          "elements": [
            {
              "type": "Control",
              "scope": "#/properties/view/properties/allowImageDownload",
              "options": {
                "format": "checkbox"
              }
            },
            {
              "type": "Control",
              "scope": "#/properties/view/properties/showTooltip",
              "options": {
                "format": "checkbox"
              }
            },
            {
              "type": "Control",
              "scope": "#/properties/view/properties/publishSelection",
              "options": {
                "format": "checkbox"
              }
            },
            {
              "type": "Control",
              "scope": "#/properties/view/properties/subscribeToSelection",
              "options": {
                "format": "checkbox"
              }
            },
            {
              "type": "Control",
              "scope": "#/properties/view/properties/enableAnimation",
              "options": {
                "format": "checkbox"
              }
            }
          ]
        },
        {
          "type": "Section",
          "label": "Image Generation",
          "elements": [
            {
              "type": "Control",
              "scope": "#/properties/model/properties/generateImage",
              "options": {
                "format": "checkbox"
              }
            },
            {
              "type": "Control",
              "scope": "#/properties/model/properties/width",
              "rule": {
                "effect": "HIDE",
                "condition": {
                  "scope": "#/properties/model/properties/generateImage",
                  "schema": {
                    "const": false
                  }
                }
              }
            },
            {
              "type": "Control",
              "scope": "#/properties/model/properties/height",
              "rule": {
                "effect": "HIDE",
                "condition": {
                  "scope": "#/properties/model/properties/generateImage",
                  "schema": {
                    "const": false
                  }
                }
              }
            }
          ]
        }
      ]
    }
  }
}
